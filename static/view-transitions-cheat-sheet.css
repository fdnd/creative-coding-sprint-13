
html:active-view-transition-type(page-change) {
  --main-duration: 1s;
  /* View transition stuff */
  &::view-transition-old(root) {
    animation-duration: 0.2s;
  }

  &::view-transition-new(root) {
    animation-duration: 0.5s;
    animation-delay: 0.3s;
  }
  
  &::view-transition-group(.member-card) {
    animation-duration: var(--main-duration);
    animation-timing-function: var(--ease);
  }
  
  &.page-home::view-transition-group(.member-card) {
    animation-delay: 0.2s;
  }
  
  &.page-home::view-transition-old(.member-card) {
    animation: none;
    opacity: 0;
  }
  
  &.page-home::view-transition-new(.member-card) {
    animation: none;
    opacity: 1;
    /* Object fit magic */
    object-fit: cover;
    object-position: center;
    width: 100%;
    height: 100%;
    border-radius: var(--radius);
    overflow: hidden;
  }
  
  &.page-member::view-transition-old(.member-card) {
    animation: none;
    opacity: 1;
    /* Object fit magic */
    object-fit: cover;
    object-position: center;
    width: 100%;
    height: 100%;
    border-radius: var(--radius);
    overflow: hidden;
  }
  
  &.page-member::view-transition-new(.member-card) {
    animation: none;
    opacity: 0;
  }
  
  /* Cards that are animating out: */
  &::view-transition-old(.member-card):only-child {
    animation-name: member-card-out;
    animation-duration: 0.2s;
    animation-delay: 0.1s;
    opacity: 1;
  }
  
  /* Cards that are animating in: */
  &::view-transition-new(.member-card):only-child {
    animation-name: member-card-in;
    animation-duration: 0.3s;
    animation-timing-function: var(--ease-in);
    animation-delay: var(--main-duration);
    opacity: 1;
  }
  
  &::view-transition-old(.member-card-text),
  &::view-transition-old(.member-card-before) {
    animation-duration: 0.1s;
    
  }
  &::view-transition-new(.member-card-text),
  &::view-transition-new(.member-card-before) {
    animation-duration: 0.4s;
  }
  
  &::view-transition-new(.member-card-text),
  &::view-transition-new(.member-card-before) {
    animation-delay: calc(var(--main-duration) + 0.3s);
  }
}

::view-transition-group(.member-card-before) {
  border-radius: 0 0 var(--radius) var(--radius);
  overflow: hidden;
}

::view-transition-group(*),
::view-transition-old(*),
::view-transition-new(*) { 
  animation-fill-mode: both !important;
}

@keyframes member-card-out {
  to {
    transform: scale(0.5);
    opacity: 0;
  }
}

@keyframes member-card-in {
  from {
    transform: scale(0.5);
    opacity: 0;
  }
  
  to {
    transform: scale(1);
    opacity: 1;
  }
}



:active-view-transition-type(filter) {

  --main-duration: 0.8s;
  &::view-transition-group(*) {
    animation-duration: var(--main-duration);
    animation-timing-function: var(--ease-out);
  }
  &::view-transition-new(.member-card) {
    animation: none;
    opacity: 1;
    overflow: hidden;
    width: 100%;
    height: 100%;
    border-radius: var(--radius);
    object-fit: cover;
  }
  &::view-transition-old(.member-card) {
    opacity: 0;
    animation: none;
  }
  &::view-transition-new(.member-card-before) {
    animation: none;
    opacity: 0;
  }
  &::view-transition-old(.member-card-before) {
    animation: none;
    width: 100%;
    height: 100%;
    border-radius: var(--radius);
    object-fit: cover;
    opacity: 1;
  }
}